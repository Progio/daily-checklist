<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Break Habits</title>

<style>
:root{
  --bg:#0b0c10;
  --card:rgba(255,255,255,.06);
  --accent:#34C759;
  --danger:#ff453a;
  --text:#f2f2f7;
}

body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,
  "SF Pro Text",sans-serif;
  background:linear-gradient(#0b0c10,#16181f);
  color:var(--text);
}

/* HEADER */
.header{
  position:sticky;
  top:0;
  backdrop-filter:blur(20px);
  background:rgba(10,12,16,.7);
  padding:16px;
  text-align:center;
  font-weight:600;
  z-index:10;
}

/* MAIN */
.container{
  max-width:520px;
  margin:auto;
  padding:16px 16px 90px;
}

/* CARDS */
.card{
  background:var(--card);
  backdrop-filter:blur(24px);
  border-radius:20px;
  padding:18px;
  margin-bottom:16px;
  box-shadow:0 8px 30px rgba(0,0,0,.35);
}

/* INPUTS */
input,textarea{
  width:100%;
  padding:14px;
  border-radius:14px;
  border:none;
  background:rgba(255,255,255,.08);
  color:var(--text);
  font-size:16px;
  margin-bottom:10px;
}

/* BUTTONS */
button{
  width:100%;
  padding:14px;
  border:none;
  border-radius:16px;
  margin:6px 0;
  font-weight:600;
  font-size:16px;
}

.primary{background:var(--accent);color:white;}
.secondary{background:rgba(255,255,255,.1);color:white;}
.danger{background:var(--danger);color:white;}

button:active{
  transform:scale(.97);
}

/* FLOATING ADD BUTTON */
.fab{
  position:fixed;
  bottom:80px;
  right:20px;
  width:60px;
  height:60px;
  border-radius:50%;
  background:var(--accent);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:30px;
  color:white;
  box-shadow:0 8px 20px rgba(0,0,0,.4);
}

/* TAB BAR */
.tabbar{
  position:fixed;
  bottom:0;
  width:100%;
  background:rgba(20,22,28,.9);
  backdrop-filter:blur(20px);
  display:flex;
  justify-content:space-around;
  padding:12px 0;
}

.tab{
  opacity:.6;
}

.tab.active{
  opacity:1;
  font-weight:600;
}

/* HIDDEN SCREENS */
.screen{display:none;}
.screen.active{display:block;}

.small{opacity:.75;font-size:14px;}
</style>
</head>

<body>

<div class="header">üö´ Breaking Habits</div>

<div class="container">

<!-- HABITS SCREEN -->
<div id="habitsScreen" class="screen active">
<div id="habits"></div>
</div>

<!-- JOURNAL SCREEN -->
<div id="journalScreen" class="screen">
<div id="journalList"></div>
</div>

<!-- DEVOTIONAL SCREEN -->
<div id="devotionalScreen" class="screen">
<div id="devotional" class="card"></div>
</div>

</div>

<!-- Floating Add -->
<div class="fab" onclick="toggleAdd()">+</div>

<!-- Add Habit Modal -->
<div id="addModal" class="screen">
<div class="container">
<div class="card">
<input id="habitName" placeholder="Habit I'm quitting"/>
<textarea id="habitWhy"
placeholder="Why do you want to quit?"></textarea>
<button class="primary" onclick="addHabit()">Add</button>
<button class="secondary" onclick="toggleAdd()">Cancel</button>
</div>
</div>
</div>

<!-- Tab Bar -->
<div class="tabbar">
<div class="tab active" onclick="showTab('habits')">Habits</div>
<div class="tab" onclick="showTab('journal')">Journal</div>
<div class="tab" onclick="showTab('devotional')">Devotional</div>
</div>

<script>
let habits=JSON.parse(localStorage.getItem("badHabits")||"[]");

const verses=[
"Philippians 4:13 ‚Äî I can do all things through him who strengthens me.",
"James 4:7 ‚Äî Resist the devil, and he will flee from you.",
"2 Timothy 1:7 ‚Äî God gave us a spirit not of fear but of power, love, self-control.",
"John 16:33 ‚Äî Take heart; I have overcome the world."
];

function devotional(){
 const d=Math.floor(Date.now()/86400000);
 devotional.innerHTML="<b>Daily Devotional</b><br><br>"+
 verses[d%verses.length];
}
devotional();

function save(){
 localStorage.setItem("badHabits",JSON.stringify(habits));
}

function toggleAdd(){
 addModal.classList.toggle("active");
}

function addHabit(){
 const n=habitName.value.trim();
 const w=habitWhy.value.trim();
 if(!n)return;

 habits.push({name:n,why:w,streak:0,slips:0,urges:0,journal:[]});
 save();
 habitName.value="";
 habitWhy.value="";
 toggleAdd();
 render();
}

function resisted(i){
 habits[i].streak++;
 save(); render();
}

function urge(i){
 habits[i].urges++;
 alert("Pause. Remember why:\n\n"+habits[i].why);
 save(); render();
}

function slipped(i){
 habits[i].slips++;
 habits[i].streak=0;
 const note=prompt("Reflection?");
 if(note) habits[i].journal.push(note);
 save(); render();
}

function deleteHabit(i){
 habits.splice(i,1);
 save(); render();
}

function render(){
 habits.innerHTML="";
 journalList.innerHTML="";

 habits.forEach((h,i)=>{
 habits.innerHTML+=`
 <div class="card">
 <b>${h.name}</b>
 <div class="small">üî• ${h.streak} days</div>
 <div class="small">‚ö†Ô∏è Slips ${h.slips}</div>
 <div class="small">üß† Urges ${h.urges}</div>

 <button class="primary" onclick="resisted(${i})">
 Resisted</button>

 <button class="secondary" onclick="urge(${i})">
 Tempted</button>

 <button class="secondary" onclick="slipped(${i})">
 Slipped</button>

 <button class="danger" onclick="deleteHabit(${i})">
 Delete</button>
 </div>`;

 h.journal.forEach(j=>{
 journalList.innerHTML+=`
 <div class="card small">${j}</div>`;
 });
 });
}
render();

function showTab(t){
 document.querySelectorAll(".screen")
 .forEach(s=>s.classList.remove("active"));

 document.getElementById(t+"Screen")
 .classList.add("active");

 document.querySelectorAll(".tab")
 .forEach(tab=>tab.classList.remove("active"));

 event.target.classList.add("active");
}
</script>
</body>
</html>
