<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Break Habits</title>

<style>
:root{
  --bg:#0b0c10;
  --card:rgba(255,255,255,.06);
  --accent:#34C759;
  --danger:#ff453a;
  --text:#f2f2f7;
}

body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text",sans-serif;
  background:var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
}

.container{
  max-width:520px;
  margin:auto;
  padding:20px 16px 80px;
}

/* HEADER */
h1{
  text-align:center;
  font-weight:600;
  margin-bottom:20px;
}

/* CARDS */
.card{
  background:var(--card);
  backdrop-filter:blur(20px) saturate(150%);
  border-radius:20px;
  padding:18px;
  margin-bottom:16px;
  box-shadow:0 6px 24px rgba(0,0,0,.35);
}

/* INPUTS */
input,textarea{
  width:100%;
  padding:14px;
  border-radius:14px;
  border:none;
  background:rgba(255,255,255,.08);
  color:var(--text);
  font-size:16px;
  margin-bottom:12px;
  box-sizing:border-box;
}

/* BUTTONS */
button{
  width:100%;
  padding:14px;
  border:none;
  border-radius:16px;
  margin:6px 0;
  font-weight:600;
  font-size:16px;
  cursor:pointer;
  transition:.15s;
}

.primary{background:var(--accent);color:white;}
.secondary{background:rgba(255,255,255,.1);color:white;}
.danger{background:var(--danger);color:white;}
button:active{transform:scale(.97);}

/* FAB */
.fab{
  position:fixed;
  bottom:20px;
  right:20px;
  width:60px;
  height:60px;
  border-radius:50%;
  background:var(--accent);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:32px;
  color:white;
  box-shadow:0 8px 24px rgba(0,0,0,.4);
}

/* Subtext */
.small{opacity:.75;font-size:14px;}
</style>
</head>

<body>
<div class="container">

<h1>üö´ Breaking Habits</h1>

<!-- Daily Devotional -->
<div class="card" id="devotional"></div>

<!-- Add Habit Section -->
<div class="card">
<input id="habitName" placeholder="Habit I'm quitting"/>
<textarea id="habitWhy" placeholder="Why do you want to quit?"></textarea>
<button class="primary" onclick="addHabit()">Add Habit</button>
</div>

<!-- Encouragement -->
<div class="card small" id="encourage">
Stay watchful and prayerful today.
</div>

<!-- Habits List -->
<div id="habitsContainer"></div>

</div>

<!-- Floating Add Button -->
<div class="fab" onclick="scrollToAdd()">+</div>

<script>
let habits=JSON.parse(localStorage.getItem("badHabits")||"[]");

const verses=[
"Philippians 4:13 ‚Äî I can do all things through him who strengthens me.",
"James 4:7 ‚Äî Resist the devil, and he will flee from you.",
"2 Timothy 1:7 ‚Äî God gave us a spirit not of fear but of power, love, self-control.",
"John 16:33 ‚Äî Take heart; I have overcome the world."
];

function devotional(){
 const day=Math.floor(Date.now()/86400000);
 document.getElementById("devotional").innerHTML=
 "<b>Daily Devotional</b><br><br>"+verses[day%verses.length];
}
devotional();

function save(){localStorage.setItem("badHabits",JSON.stringify(habits));}
function showEncourage(msg){document.getElementById("encourage").innerHTML=msg;}
function scrollToAdd(){habitName.scrollIntoView({behavior:"smooth"});habitName.focus();}

function addHabit(){
 const n=habitName.value.trim(),w=habitWhy.value.trim();
 if(!n) return;
 habits.push({name:n,why:w,streak:0,slips:0,urges:0,journal:[]});
 save(); habitName.value=""; habitWhy.value=""; render();
}

function resisted(i){habits[i].streak++; save(); render();}
function urge(i){
 habits[i].urges++;
 showEncourage("Pause. Remember why:\n\n"+habits[i].why+"\n\n"+verses[Math.floor(Math.random()*4)]);
 save(); render();
}
function slipped(i){
 habits[i].slips++; habits[i].streak=0;
 const note=prompt("Reflection / what led to slip?");
 if(note) habits[i].journal.push(note);
 showEncourage("Grace > guilt.\n"+verses[Math.floor(Math.random()*4)]);
 save(); render();
}
function deleteHabit(i){habits.splice(i,1); save(); render();}

function render(){
 const container=document.getElementById("habitsContainer");
 container.innerHTML="";
 habits.forEach((h,i)=>{
 container.innerHTML+=`
 <div class="card">
 <b>${h.name}</b>
 <div class="small">üî• ${h.streak} day streak</div>
 <div class="small">‚ö†Ô∏è Slips: ${h.slips}</div>
 <div class="small">üß† Urges: ${h.urges}</div>

 <button class="primary" onclick="resisted(${i})">Resisted</button>
 <button class="secondary" onclick="urge(${i})">Tempted</button>
 <button class="secondary" onclick="slipped(${i})">Slipped</button>
 <button class="danger" onclick="deleteHabit(${i})">Delete</button>
 </div>`;
 });
}

render();
</script>
</body>
</html>
